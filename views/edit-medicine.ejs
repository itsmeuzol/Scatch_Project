<%- include('./partials/header') %> <% if(success.length > 0) { %>
<div
  id="flash-message"
  class="absolute top-5 left-1/2 -translate-x-1/2 p-3 rounded-md bg-green-500 text-white shadow-lg transition-opacity duration-500"
>
  <%= success %>
</div>
<% } %>

<!-- Main Content for Edit Product Page -->
<div
  class="w-full min-h-screen flex items-center justify-center px-4 md:px-20 py-20 bg-gray-100"
>
  <div class="w-full max-w-md bg-white p-8 rounded-lg shadow-lg">
    <h4 class="text-3xl font-bold text-center mb-6 text-gray-700">
      Edit Product
    </h4>

    <!-- Edit Product Form -->
    <form
      action="/owners/edit/<%= product._id %>"
      method="POST"
      enctype="multipart/form-data"
      class="space-y-4"
    >
      <!-- Product Image -->
      <div>
        <label for="image" class="block text-sm font-medium text-gray-700">Medicine Image</label>
        <input
          type="file"
          id="image"
          name="image"
          class="block w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 transition duration-200 bg-white"
        />
        <% if (product.image) { %>
        <div class="mt-2">
          <p class="text-sm text-gray-600">Current Image:</p>
          <img
            class="h-25 object-cover rounded-lg"
            src="data:image/jpeg;base64,<%= product.image ? product.image.toString('base64') : '' %>"
            alt="<%= product.name %>"
          />
        </div>
        <% } %>
      </div>

      <!-- Product Name -->
      <div>
        <label for="name" class="block text-sm font-medium text-gray-700"
          >Product Name</label
        >
        <input
          type="text"
          name="name"
          value="<%= product.name %>"
          class="block w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 transition duration-200 bg-white"
          placeholder="Enter product name"
          required
        />
      </div>

      <!-- Product Price -->
      <div>
        <label for="price" class="block text-sm font-medium text-gray-700"
          >Product Price</label
        >
        <input
          type="number"
          id="price"
          name="price"
          value="<%= product.price %>"
          class="block w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 transition duration-200 bg-white"
          placeholder="Enter product price"
          required
        />
      </div>

      <!-- Product Description -->
      <div>
        <label for="description" class="block text-sm font-medium text-gray-700"
          >Product Description</label
        >
        <textarea
          id="description"
          name="description"
          class="block w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 transition duration-200 bg-white"
          placeholder="Enter product description"
          rows="4"
          required
          style="resize: none"
        >
              <%= product.description %>
            </textarea
        >
      </div>

      <!-- Submit Button -->
      <div>
        <button
          type="submit"
          class="w-full px-5 py-3 bg-blue-500 text-white rounded-full cursor-pointer transition duration-200 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-teal-500"
        >
          Update Product
        </button>
      </div>
    </form>
  </div>
</div>

<%- include('./partials/footer') %>
