<%- include('./partials/header') %> <% if (error.length > 0) { %>
<div
  id="flash-message"
  class="absolute top-5 left-1/2 -translate-x-1/2 p-3 rounded-md bg-red-500 text-white"
>
  <%= error %>
</div>
<% } %> <% if (success.length > 0) { %>
<div
  id="flash-message"
  class="absolute top-5 left-1/2 -translate-x-1/2 p-3 rounded-md bg-green-500 text-white"
>
  <%= success %>
</div>
<% } %>

<!-- Main Content for Appointment Page -->
<div
  class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4 sm:px-6 lg:px-8"
>
  <div class="max-w-lg w-full space-y-8">
    <div class="text-center">
      <h1 class="text-4xl font-extrabold text-gray-900">Book an Appointment</h1>
      <p class="mt-2 text-md text-gray-600">
        Schedule your appointment with our expert team.
      </p>
    </div>
    <div class="bg-white/70 backdrop-blur-lg shadow-lg rounded-2xl p-10">
      <form action="/users/book-appointment" method="POST" class="space-y-6">
        <!-- Date Input -->
        <div>
          <label for="date" class="block text-sm font-semibold text-gray-800"
            >Date</label
          >
          <input
            type="date"
            id="date"
            name="date"
            class="mt-2 w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
            required
          />
        </div>

        <!-- Time Input -->
        <div>
          <label for="time" class="block text-sm font-semibold text-gray-800"
            >Time</label
          >
          <input
            type="time"
            id="time"
            name="time"
            class="mt-2 w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
            required
          />
        </div>

        <!-- Service Type Dropdown -->
        <div>
          <label for="service" class="block text-sm font-semibold text-gray-800"
            >Service Type</label
          >
          <select
            id="service"
            name="service"
            class="mt-2 w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
            required
          >
            <option value="" disabled selected>Select a service</option>
            <option value="consultation">Consultation</option>
            <option value="checkup">Checkup</option>
            <option value="surgery">Surgery</option>
            <option value="therapy">Therapy</option>
          </select>
        </div>

        <!-- Submit Button -->
        <div>
          <button
            type="submit"
            class="w-full py-3 px-4 text-lg font-semibold rounded-lg text-white bg-gradient-to-r from-blue-500 to-indigo-600 shadow-md hover:scale-105 transition-all duration-300 hover:shadow-lg"
          >
            Book Appointment
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<%- include('./partials/footer') %>

<script>
  // Set the min attribute of the date input to today's date
  document.addEventListener("DOMContentLoaded", function () {
    const dateInput = document.getElementById("date");
    const today = new Date().toISOString().split("T")[0];
    dateInput.setAttribute("min", today);
  });
</script>
